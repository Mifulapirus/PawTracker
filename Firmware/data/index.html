<!DOCTYPE html>
<html>
<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <title>CoqueTracker Station</title>
  <link rel='stylesheet' href='/style.css'>
</head>
<body>
  <div class='container'>
    <div id='header'></div>
    
    <div id='noData' class='card' style='display:none;'>
      <h2>Waiting for beacon...</h2>
      <p>No data received yet from PupBeacon</p>
    </div>
    
    <div id='dataContainer' style='display:none;'>
      <div class='card'>
        <h2>GPS Location</h2>
        <div class='label'>Latitude</div>
        <div class='value' id='latitude'>--</div>
        <div class='label'>Longitude</div>
        <div class='value' id='longitude'>--</div>
        <a class='map-link' id='mapLink' href='#' target='_blank'>ğŸ“ Open in Google Maps</a>
        <div class='label' id='lastUpdate'>Last update: -- seconds ago</div>
      </div>
      
      <div class='card'>
        <h2>ğŸ• Beacon Status (Dog)</h2>
        <div class='label'>Satellites</div>
        <div class='value' id='sats'>--</div>
        <div class='label'>HDOP (accuracy)</div>
        <div class='value' id='hdop'>--</div>
        <div class='label'>Speed</div>
        <div class='value' id='speed'>--</div>
        <div class='label'>Altitude</div>
        <div class='value' id='altitude'>--</div>
        <div class='label'>Battery</div>
        <div class='value' id='battery'>--</div>
        <div class='label'>Signal Strength (RSSI)</div>
        <div class='value' id='rssi'>--</div>
        <div class='label'>Signal Quality (SNR)</div>
        <div class='value' id='snr'>--</div>
      </div>
      
      <div class='card'>
        <h2>ğŸ“± Station Status (You)</h2>
        <div class='label'>GPS Status</div>
        <div class='value' id='stationStatus'>--</div>
        <div class='label'>Satellites</div>
        <div class='value' id='stationSats'>--</div>
        <div class='label'>HDOP (accuracy)</div>
        <div class='value' id='stationHdop'>--</div>
        <div class='label'>Latitude</div>
        <div class='value' id='stationLat'>--</div>
        <div class='label'>Longitude</div>
        <div class='value' id='stationLon'>--</div>
      </div>
      
      <div class='card'>
        <h2>ğŸ® Actuators</h2>
        <div id='ledStatus' class='status off'>LED: OFF</div>
        <div id='buzzerStatus' class='status off'>Buzzer: OFF</div>
        <div class='label'>Last Command Received</div>
        <div class='value' id='lastCommand'>--</div>
        <div class='controls'>
          <button class='btn-led' onclick='toggleLED()'>Toggle LED</button>
          <button class='btn-buzzer' onclick='toggleBuzzer()'>Toggle Buzzer</button>
        </div>
      </div>
      
      <div class='card'>
        <h2>âš™ï¸ System Settings</h2>
        <p style='color: #999; margin-bottom: 15px;'>Reset WiFi credentials to connect to a different network</p>
        <button class='btn-reset' onclick='resetWiFi()'>ğŸ”„ Reset WiFi & Reboot</button>
      </div>
    </div>
  </div>
  
  <script>
    // Load header
    fetch('/header.html')
      .then(response => response.text())
      .then(html => document.getElementById('header').innerHTML = html);
  </script>
  <script src='/script.js'></script>
</body>
</html>
